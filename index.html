<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INVESTHAUS | THE MANOR HQ</title>
    
    <!-- Core Dependencies -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (UMD Build) -->
    <script src="https://unpkg.com/lucide@0.469.0/dist/umd/lucide.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        
        :root {
            --gold: #f59e0b;
            --bg: #020202;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg); 
            color: #d4d4d8; 
            margin: 0; 
            overflow: hidden;
        }

        @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .animate-ticker { animation: ticker 40s linear infinite; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .fade-in { 
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        /* Input styling */
        input:focus, textarea:focus {
            outline: none;
            border-color: rgba(245, 158, 11, 0.5) !important;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.1);
        }

        .gold-glow {
            text-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
        }

        .manor-border {
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        /**
         * Robust Icon component using Lucide global object
         * Fixed the iconData mapping error
         */
        const Icon = ({ name, size = 20, className = "", strokeWidth = 2 }) => {
            // Lucide keys are often lowercase in the UMD build
            const iconKey = name.charAt(0).toLowerCase() + name.slice(1);
            const iconData = window.lucide ? (window.lucide.icons[name] || window.lucide.icons[iconKey]) : null;
            
            if (!iconData) return <div style={{ width: size, height: size }} className={className} />;

            // Lucide icon structure: [tagName, attributes, children]
            // Children is index 2
            const children = iconData[2] || [];

            return (
                <svg
                    width={size}
                    height={size}
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    strokeWidth={strokeWidth}
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    className={className}
                    dangerouslySetInnerHTML={{ 
                        __html: children.map(tag => {
                            const [tagName, attrs] = tag;
                            const attrStr = Object.entries(attrs)
                                .map(([k, v]) => `${k}="${v}"`)
                                .join(' ');
                            return `<${tagName} ${attrStr} />`;
                        }).join('') 
                    }}
                />
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('manifesto');
            const [currentDate] = useState(new Date().toLocaleDateString('en-US', { 
                weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' 
            }));

            const [dailyData, setDailyData] = useState({
                bias: 'Neutral',
                narrative: '',
                watchlist: [{ ticker: 'XAUUSD', level: '2042.50', bias: 'RETEST' }],
                rules: { sl: false, revenge: false, journal: false }
            });

            const trades = [
                { ticker: 'NVDA', pnl: '+$4,200', side: 'Long' },
                { ticker: 'BTC', pnl: '+$12,500', side: 'Long' },
                { ticker: 'XAUUSD', pnl: '-$850', side: 'Short' }
            ];

            const menuItems = [
                { id: 'manifesto', label: 'MANIFESTO', icon: "Shield", sub: 'The Code & Culture' },
                { id: 'daily', label: 'DAILY EDGE', icon: "Zap", sub: 'Strategic Execution' },
                { id: 'weekly', label: 'WEEKLY SYNC', icon: "Calendar", sub: 'Review & Refresh' },
                { id: 'journal', label: 'TRADE VAULT', icon: "Lock", sub: 'Performance Logs' },
                { id: 'education', label: 'THE ACADEMY', icon: "BookOpen", sub: 'Intel Archives' },
            ];

            return (
                <div className="flex h-screen bg-[#020202] text-zinc-300 overflow-hidden">
                    {/* Sidebar */}
                    <aside className="w-64 border-r border-white/5 flex flex-col p-6 bg-[#050505] z-30 shadow-2xl">
                        <div className="mb-12 flex flex-col items-center">
                            <div className="relative group cursor-pointer">
                                <div className="absolute -inset-2 bg-gradient-to-r from-amber-500 to-amber-900 rounded-sm blur opacity-20 group-hover:opacity-60 transition duration-1000"></div>
                                <div className="relative w-16 h-16 bg-black border border-amber-500/40 rounded-sm flex items-center justify-center">
                                    <span className="text-amber-500 font-black text-2xl italic uppercase tracking-tighter">H</span>
                                </div>
                            </div>
                            <h1 className="text-2xl font-black tracking-[0.2em] text-white uppercase italic mt-6 leading-none">Investhaus</h1>
                            <p className="text-[10px] text-amber-500 font-black tracking-[0.4em] uppercase mt-2 italic text-center leading-tight">THE MANOR <br/> <span className="opacity-50 text-[8px]">HQ</span></p>
                        </div>

                        <nav className="flex-1 space-y-8 overflow-y-auto no-scrollbar text-left">
                            <div>
                                <p className="text-[9px] text-zinc-600 font-bold uppercase tracking-[0.2em] mb-4 px-4 flex items-center gap-2">
                                    <Icon name="Activity" size={12} /> ACCESS TERMINAL
                                </p>
                                {menuItems.slice(0, 4).map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => setActiveTab(item.id)}
                                        className={`w-full flex items-center justify-between px-4 py-4 rounded-sm transition-all duration-300 mb-1 ${
                                            activeTab === item.id 
                                                ? 'bg-amber-500/10 text-amber-500 border-l-4 border-amber-500' 
                                                : 'text-zinc-500 hover:bg-white/5 hover:text-zinc-200'
                                        }`}
                                    >
                                        <div className="flex flex-col items-start text-left">
                                            <div className="flex items-center space-x-3">
                                                <Icon name={item.icon} size={18} />
                                                <span className="font-black tracking-widest uppercase text-[10px] italic">{item.label}</span>
                                            </div>
                                            {activeTab === item.id && <span className="text-[7px] mt-1 ml-7 text-amber-500/50 font-bold tracking-tighter uppercase">{item.sub}</span>}
                                        </div>
                                    </button>
                                ))}
                            </div>
                            <div>
                                <p className="text-[9px] text-zinc-600 font-bold uppercase tracking-[0.2em] mb-4 px-4 flex items-center gap-2">
                                    <Icon name="Crown" size={12} /> LEGACY INTEL
                                </p>
                                {menuItems.slice(4).map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => setActiveTab(item.id)}
                                        className={`w-full flex items-center justify-between px-4 py-4 rounded-sm transition-all duration-300 mb-1 ${
                                            activeTab === item.id 
                                                ? 'bg-amber-500/10 text-amber-500 border-l-4 border-amber-500' 
                                                : 'text-zinc-500 hover:bg-white/5 hover:text-zinc-200'
                                        }`}
                                    >
                                        <div className="flex flex-col items-start text-left">
                                            <div className="flex items-center space-x-3">
                                                <Icon name={item.icon} size={18} />
                                                <span className="font-black tracking-widest uppercase text-[10px] italic">{item.label}</span>
                                            </div>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </nav>

                        <div className="mt-auto pt-6 border-t border-white/5">
                            <div className="p-4 bg-zinc-900/40 border border-white/5 rounded-sm relative overflow-hidden group">
                                <div className="absolute top-0 right-0 p-2 opacity-5"><Icon name="Crown" size={20} /></div>
                                <div className="flex items-center space-x-3">
                                    <div className="w-10 h-10 rounded-sm bg-amber-500 flex items-center justify-center text-black font-black text-xs italic">IH</div>
                                    <div className="flex-1 overflow-hidden text-left">
                                        <p className="text-[10px] font-black text-white truncate uppercase tracking-tighter italic">Legacy Architect</p>
                                        <p className="text-[8px] text-amber-500 font-mono truncate uppercase tracking-[0.1em]">EST. IN EXCELLENCE</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* Main Workspace */}
                    <main className="flex-1 overflow-y-auto relative bg-[#020202]">
                        <div className="absolute top-0 right-0 w-[600px] h-[600px] bg-amber-500/[0.04] blur-[150px] pointer-events-none"></div>

                        <header className="px-10 py-7 flex justify-between items-center sticky top-0 bg-[#020202]/95 backdrop-blur-xl z-20 border-b border-white/5">
                            <div className="flex items-center space-x-10">
                                <h2 className="text-2xl font-black text-white tracking-tighter uppercase italic flex items-center gap-4">
                                   <span className="text-amber-500 text-sm">/</span> {menuItems.find(i => i.id === activeTab)?.label}
                                </h2>
                                <div className="hidden lg:flex items-center space-x-8 text-[10px] font-black uppercase tracking-[0.2em]">
                                    <div className="flex items-center gap-2 text-zinc-500"><Icon name="Globe" size={13} className="text-amber-500"/> NEW YORK: <span className="text-green-500 font-bold">ACTIVE</span></div>
                                    <div className="flex items-center gap-2 text-zinc-700 opacity-50"><Icon name="Globe" size={13}/> LONDON: <span>CLOSED</span></div>
                                </div>
                            </div>
                            
                            <div className="flex items-center space-x-6">
                                <div className="px-4 py-2 bg-amber-500 text-black rounded-sm text-[10px] font-black tracking-widest uppercase italic shadow-[0_0_20px_rgba(245,158,11,0.2)]">MANOR HQ</div>
                            </div>
                        </header>

                        <div className="p-10 max-w-6xl mx-auto pb-40">
                            {activeTab === 'manifesto' && <ManifestoView />}
                            {activeTab === 'daily' && <DailyEdgeView data={dailyData} setDailyData={setDailyData} />}
                            {activeTab === 'weekly' && <WeeklySyncView />}
                            {activeTab === 'journal' && <TradeVaultView trades={trades} />}
                            {activeTab === 'education' && <EducationView />}
                        </div>

                        {/* Scrolling Ticker */}
                        <div className="fixed bottom-0 right-0 left-64 h-12 bg-black border-t border-white/10 flex items-center overflow-hidden z-20">
                            <div className="flex whitespace-nowrap animate-ticker py-2 text-[11px] font-mono text-zinc-600 font-bold">
                                {Array(10).fill(0).map((_, i) => (
                                    <span key={i} className="mx-10 uppercase flex items-center gap-4">
                                        <span className="text-amber-500 font-black italic tracking-tighter">INVESTHAUS</span> 
                                        <span>•</span>
                                        <span className="text-white">$GOLD:</span> <span className="text-green-500">2042.80</span> 
                                        <span>•</span>
                                        <span className="text-white">$BTC:</span> <span className="text-green-500">42,500</span>
                                        <span>•</span>
                                        <span className="text-amber-500 italic">MANOR TERMINAL ACTIVE</span>
                                    </span>
                                ))}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const ManifestoView = () => (
            <div className="fade-in max-w-5xl py-12 text-left">
                <div className="inline-flex items-center gap-6 mb-10">
                    <div className="h-[2px] w-16 bg-amber-500"></div>
                    <span className="text-amber-500 font-black text-xs uppercase tracking-[0.6em] italic">The Code of the Manor</span>
                </div>
                <h1 className="text-8xl md:text-9xl font-black text-white mb-14 tracking-tighter leading-[0.8] italic uppercase opacity-[0.98]">
                    The <br/>
                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-amber-500 to-amber-800 font-black">Manifesto</span>
                </h1>
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-24 border-l-2 border-amber-500/20 pl-16 py-8 relative">
                    <div className="absolute top-0 left-[-3px] w-1.5 h-32 bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)]"></div>
                    <div className="space-y-10">
                        <p className="text-3xl leading-tight font-black italic text-zinc-100 uppercase tracking-tight">
                            Welcome to <span className="text-amber-500 italic">Investhaus</span>. <br/> We don't trade for crumbs; we build for centuries.
                        </p>
                        <p className="text-sm text-zinc-500 leading-relaxed uppercase tracking-[0.2em] font-black">
                            Sovereignty isn't a goal; it's a prerequisite. We operate with absolute precision, move with purpose, and maintain detachment from noise.
                        </p>
                    </div>
                </div>
            </div>
        );

        const DailyEdgeView = ({ data, setDailyData }) => {
            const [calc, setCalc] = useState({ account: 10000, risk: 1, sl: 10, result: 0 });
            const calculatePosition = () => {
                const riskAmt = parseFloat(calc.account) * (parseFloat(calc.risk) / 100);
                const size = riskAmt / parseFloat(calc.sl);
                setCalc({ ...calc, result: isNaN(size) ? 0 : size.toFixed(2) });
            };

            return (
                <div className="space-y-12 fade-in">
                    <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
                        <div className="bg-[#080808] border border-white/10 p-8 rounded-sm relative overflow-hidden group">
                            <div className="absolute top-0 right-0 p-6 opacity-5"><Icon name="Sparkles" size={50} /></div>
                            <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8">Volatility Index</p>
                            <div className="h-2.5 w-full bg-white/5 rounded-full overflow-hidden flex p-[2px] border border-white/5">
                                <div className="h-full bg-amber-500 w-2/3"></div>
                            </div>
                            <p className="text-[9px] text-zinc-600 uppercase italic text-center font-black tracking-widest mt-4">High Voltage Session.</p>
                        </div>

                        <div className="bg-[#080808] border border-white/10 p-8 rounded-sm lg:col-span-1">
                            <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8 italic">Market Bias</p>
                            <div className="flex flex-col gap-3">
                                {['Bullish', 'Neutral', 'Bearish'].map(s => (
                                    <button 
                                        key={s} 
                                        onClick={() => setDailyData({...data, bias: s})}
                                        className={`w-full py-4 text-[10px] font-black uppercase tracking-widest border rounded-sm transition-all italic ${
                                            data.bias === s ? 'bg-amber-500 text-black border-amber-500 shadow-[0_0_25px_rgba(245,158,11,0.3)]' : 'border-white/5 text-zinc-500 hover:bg-white/5'
                                        }`}
                                    >
                                        {s}
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="lg:col-span-2 bg-[#080808] border border-white/10 p-8 rounded-sm relative group">
                            <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8">Risk Calculator</p>
                            <div className="grid grid-cols-2 lg:grid-cols-4 gap-6">
                                <div className="space-y-1">
                                    <label className="text-[8px] font-bold uppercase text-zinc-500">Equity</label>
                                    <input type="number" value={calc.account} onChange={e => setCalc({...calc, account: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-white outline-none focus:border-amber-500/50" />
                                </div>
                                <div className="space-y-1">
                                    <label className="text-[8px] font-bold uppercase text-zinc-500">Risk %</label>
                                    <input type="number" value={calc.risk} onChange={e => setCalc({...calc, risk: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-amber-500 outline-none focus:border-amber-500/50" />
                                </div>
                                <div className="space-y-1">
                                    <label className="text-[8px] font-bold uppercase text-zinc-500">SL (Pips)</label>
                                    <input type="number" value={calc.sl} onChange={e => setCalc({...calc, sl: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-white outline-none focus:border-amber-500/50" />
                                </div>
                                <div className="flex flex-col justify-end">
                                    <button onClick={calculatePosition} className="py-3 bg-white text-black text-[10px] font-black uppercase rounded-sm hover:bg-amber-500 transition-colors italic">Calculate</button>
                                </div>
                            </div>
                            {parseFloat(calc.result) > 0 && <div className="mt-4 text-2xl font-black italic tracking-tighter text-white">LOT SIZE: <span className="text-amber-500">{calc.result}</span></div>}
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-16">
                        <div className="space-y-4 text-left">
                            <h4 className="text-[10px] font-black text-amber-500 uppercase tracking-[0.4em] italic flex items-center gap-2">
                                <Icon name="Zap" size={14} /> The Daily Blueprint
                            </h4>
                            <textarea 
                                value={data.narrative}
                                onChange={e => setDailyData({...data, narrative: e.target.value})}
                                placeholder="Enter the daily blueprint narrative..."
                                className="w-full bg-[#080808] border border-white/10 rounded-sm p-8 text-sm h-72 focus:border-amber-500/40 outline-none resize-none leading-relaxed text-zinc-400 font-mono uppercase tracking-tight shadow-2xl"
                            ></textarea>
                        </div>
                        <div className="bg-[#080808] border border-white/10 p-10 space-y-8 rounded-sm text-left">
                            <h4 className="text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] italic">The Edge Protocol</h4>
                            <div className="space-y-6">
                                {['EXECUTE HARD STOPS', 'ZERO REVENGE DEPLOYMENTS', 'MANDATORY LOGGING'].map(rule => (
                                    <label key={rule} className="flex items-center space-x-4 text-[11px] font-black uppercase text-zinc-500 hover:text-white cursor-pointer group italic">
                                        <input type="checkbox" className="w-6 h-6 rounded-sm bg-black border-2 border-white/10 accent-amber-500 appearance-none checked:bg-amber-500 checked:border-amber-500" />
                                        <span>{rule}</span>
                                    </label>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const TradeVaultView = ({ trades }) => (
            <div className="space-y-12 fade-in text-left">
                <div className="flex flex-col md:flex-row md:items-end justify-between border-b border-white/5 pb-10">
                    <div>
                        <h3 className="text-5xl font-black text-white italic uppercase tracking-tighter">Trade Vault</h3>
                        <p className="text-[11px] text-zinc-600 font-black uppercase tracking-[0.4em] mt-2 italic">Historical Wealth Records</p>
                    </div>
                </div>
                <div className="grid grid-cols-1 gap-4">
                    {trades.map((t, i) => (
                        <div key={i} className="flex items-center justify-between px-10 py-8 bg-white/[0.01] hover:bg-white/[0.04] border border-white/5 rounded-sm shadow-lg transition-all">
                            <div className="flex items-center gap-8">
                                <span className="text-[10px] font-mono text-zinc-700 font-black">LOG: {String(i).padStart(4, '0')}</span>
                                <span className="text-3xl font-black italic uppercase tracking-tighter text-white">{t.ticker}</span>
                            </div>
                            <div className="flex items-center gap-12">
                                <span className={`text-[10px] font-black uppercase tracking-widest px-3 py-1 border rounded-sm ${t.pnl.includes('+') ? 'border-amber-500/20 text-amber-500' : 'border-red-500/20 text-red-500'}`}>
                                    {t.pnl.includes('+') ? 'SUCCESS' : 'LOSS'}
                                </span>
                                <span className={`text-3xl font-mono font-black italic tracking-tighter ${t.pnl.includes('+') ? 'text-green-500' : 'text-red-500'}`}>{t.pnl}</span>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const WeeklySyncView = () => (
            <div className="fade-in py-16 text-center">
                <h3 className="text-6xl font-black text-white italic uppercase tracking-tighter mb-10">Weekly Sync</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <div className="p-10 bg-[#080808] border border-white/10 rounded-sm">
                        <Icon name="BrainCircuit" size={40} className="mx-auto mb-4 text-amber-500 opacity-50" />
                        <p className="text-[11px] font-black text-zinc-600 uppercase tracking-[0.4em] mb-4">Mental Edge</p>
                        <p className="text-5xl font-black text-white italic">PEAK</p>
                    </div>
                    <div className="p-10 bg-[#080808] border border-white/10 rounded-sm">
                        <Icon name="TrendingUp" size={40} className="mx-auto mb-4 text-amber-500 opacity-50" />
                        <p className="text-[11px] font-black text-zinc-600 uppercase tracking-[0.4em] mb-4">Consistency</p>
                        <p className="text-5xl font-black text-white italic">92%</p>
                    </div>
                </div>
            </div>
        );

        const EducationView = () => (
            <div className="space-y-16 fade-in py-12 text-left">
                <div className="p-16 bg-gradient-to-br from-[#080808] to-black border border-white/10 rounded-sm relative overflow-hidden shadow-2xl">
                    <div className="absolute top-0 right-0 p-16 text-white/5 pointer-events-none">
                        <Icon name="Library" size={200} strokeWidth={1} />
                    </div>
                    <div className="relative z-10 text-left">
                        <p className="text-amber-500 font-black text-xs uppercase tracking-[0.7em] mb-6 italic">Intel Archives</p>
                        <h3 className="text-7xl font-black text-white italic uppercase tracking-tighter mb-10 leading-none">The Academy</h3>
                        <p className="text-zinc-500 text-lg max-w-2xl uppercase font-black tracking-tighter mb-12 opacity-80 leading-tight italic">
                            Blueprint for sovereignty. Master the data. Build the legacy.
                        </p>
                        <button className="bg-white text-black font-black text-[11px] uppercase px-10 py-4 tracking-[0.3em] hover:bg-amber-500 transition-all italic shadow-2xl">Enter Archives</button>
                    </div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-10">
                    {['The Foundation', 'Advanced Alchemy', 'Wealth Ledger'].map((book, i) => (
                        <div key={book} className="group p-10 bg-[#080808] border border-white/10 rounded-sm hover:border-amber-500/50 transition-all cursor-pointer relative overflow-hidden text-left">
                            <div className="absolute top-0 right-0 p-4 opacity-[0.02] text-white"><Icon name="Shield" size={80}/></div>
                            <div className="text-zinc-800 text-7xl font-black mb-6 italic group-hover:text-amber-500 transition-colors opacity-30">0{i+1}</div>
                            <h4 className="text-white font-black text-sm uppercase tracking-[0.2em] mb-4 italic">{book}</h4>
                            <p className="text-zinc-600 text-[10px] leading-relaxed uppercase font-black tracking-widest italic">Core Requirements for Legacy Architects.</p>
                        </div>
                    ))}
                </div>
            </div>
        );

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
